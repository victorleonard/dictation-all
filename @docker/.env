# ============================================
# Configuration Docker - Application Dictation
# ============================================
# Ce fichier contient les variables d'environnement utilisées par Docker Compose
# Placez ce fichier dans le dossier @docker

# ============================================
# Configuration Symfony / Backend
# ============================================
APP_ENV=prod
APP_DEBUG=0

# ============================================
# Configuration PostgreSQL (désactivé - utilisation MySQL uniquement)
# ============================================
# POSTGRES_VERSION=16
# POSTGRES_DB=dictation
# POSTGRES_USER=dictation
# POSTGRES_PASSWORD=SvZx3wZNvmTr21
# POSTGRES_PORT=5432
# DATABASE_URL=postgresql://dictation:SvZx3wZNvmTr21@database:5432/dictation?serverVersion=16&charset=utf8

# ============================================
# Configuration MySQL (utilisée pour tous les docker-compose)
# ============================================
MYSQL_VERSION=8.0
MYSQL_DATABASE=dictation
MYSQL_USER=dictation
MYSQL_PASSWORD=SvZx3wZNvmTr21
MYSQL_ROOT_PASSWORD=SvZx3wZNvmTr21
MYSQL_PORT=3306

# URL de connexion à la base de données MySQL
DATABASE_URL=mysql://dictation:SvZx3wZNvmTr21@database:3306/dictation?serverVersion=8.0&charset=utf8mb4

# ============================================
# Configuration des ports
# ============================================
# Port pour Nginx (backend API)
NGINX_PORT=3000

# Port pour le frontend en production
FRONTEND_PORT=8080

# Port pour le frontend en développement
FRONTEND_DEV_PORT=9000

# Configuration CORS
CORS_ALLOW_ORIGIN='^https?://(localhost|127\.0\.0\.1)(:[0-9]+)?$'

# A faire sur la VM de prod : 
# mkdir -p @data/mysql
# chmod 755 @data/mysql
